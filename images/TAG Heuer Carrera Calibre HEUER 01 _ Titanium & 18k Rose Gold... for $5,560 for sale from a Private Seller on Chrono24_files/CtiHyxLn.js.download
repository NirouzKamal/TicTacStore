import{y as c}from"./QjRxgrZG.js";import{o as d,a5 as h,P as l,a6 as g,Q as v,S as P,a7 as y,a8 as f,a as i}from"./BXE2Xjof.js";d(".js-wishlist-toggle","click",async n=>{if(n.preventDefault(),n.stopPropagation(),window.c24.meta.isC)return;const e=n.currentTarget;if(e==null||e.disabled||e.dataset.note===void 0)return;const o=parseInt(e.dataset.note),t=e.dataset.isOnWishlist?.toLowerCase()==="true";if(!window.c24.meta.isLoggedIn)return h(o);try{if(e.disabled=!0,l(e,!t),t)await g(o);else{const r=e.closest(".js-article-item-container");let a,s;if(r)a=r.dataset.searchItemPosition,s=r.dataset.searchHash;else{const u=new URLSearchParams(window.location.search);a=u.get("pos")??void 0,s=u.get("searchHash")??void 0}await v(o,P(e),a,s)}}catch(r){if(r instanceof y){const a=f(r);a?i("error",a):i("error",c({"en":"An error has occurred. Please try again."}))}else i("error",c({"en":"An error has occurred. Please try again."}));l(e,t)}finally{e.disabled=!1}});
